import{s as dn,k as yn,l as vn,r as _n,I as xn,o as An,j as bn}from"./transform.9121fc54.js";import{d as Mn,g as wn,a as Tn,o as Rn,b as pn}from"./index.b90db378.js";function en(n,a){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof a!="function")throw new TypeError("mapper is not a function");return Array.from(n,(i,s)=>a(i,s,n))}function En(n){return dn(yn(n).call(document.documentElement))}function Pn(n,a){for(var i=new Array(a),s=0;s<a;++s)i[s]=n(s/(a-1));return i}const rn=Math.PI,sn=2*rn,L=1e-6,$n=sn-L;function on(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function gn(){return new on}on.prototype=gn.prototype={constructor:on,moveTo:function(n,a){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+a)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,a){this._+="L"+(this._x1=+n)+","+(this._y1=+a)},quadraticCurveTo:function(n,a,i,s){this._+="Q"+ +n+","+ +a+","+(this._x1=+i)+","+(this._y1=+s)},bezierCurveTo:function(n,a,i,s,c,h){this._+="C"+ +n+","+ +a+","+ +i+","+ +s+","+(this._x1=+c)+","+(this._y1=+h)},arcTo:function(n,a,i,s,c){n=+n,a=+a,i=+i,s=+s,c=+c;var h=this._x1,d=this._y1,t=i-n,r=s-a,e=h-n,p=d-a,f=e*e+p*p;if(c<0)throw new Error("negative radius: "+c);if(this._x1===null)this._+="M"+(this._x1=n)+","+(this._y1=a);else if(f>L)if(!(Math.abs(p*t-r*e)>L)||!c)this._+="L"+(this._x1=n)+","+(this._y1=a);else{var o=i-h,m=s-d,v=t*t+r*r,M=o*o+m*m,g=Math.sqrt(v),w=Math.sqrt(f),_=c*Math.tan((rn-Math.acos((v+f-M)/(2*g*w)))/2),x=_/w,A=_/g;Math.abs(x-1)>L&&(this._+="L"+(n+x*e)+","+(a+x*p)),this._+="A"+c+","+c+",0,0,"+ +(p*o>e*m)+","+(this._x1=n+A*t)+","+(this._y1=a+A*r)}},arc:function(n,a,i,s,c,h){n=+n,a=+a,i=+i,h=!!h;var d=i*Math.cos(s),t=i*Math.sin(s),r=n+d,e=a+t,p=1^h,f=h?s-c:c-s;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+r+","+e:(Math.abs(this._x1-r)>L||Math.abs(this._y1-e)>L)&&(this._+="L"+r+","+e),i&&(f<0&&(f=f%sn+sn),f>$n?this._+="A"+i+","+i+",0,1,"+p+","+(n-d)+","+(a-t)+"A"+i+","+i+",0,1,"+p+","+(this._x1=r)+","+(this._y1=e):f>L&&(this._+="A"+i+","+i+",0,"+ +(f>=rn)+","+p+","+(this._x1=n+i*Math.cos(c))+","+(this._y1=a+i*Math.sin(c))))},rect:function(n,a,i,s){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+a)+"h"+ +i+"v"+ +s+"h"+-i+"Z"},toString:function(){return this._}};function jn(n){for(var a=n.length/6|0,i=new Array(a),s=0;s<a;)i[s]="#"+n.slice(s*6,++s*6);return i}var In=n=>vn(n[n.length-1]),mn=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(jn),qn=In(mn);function $(n){return function(){return n}}const ln=Math.abs,E=Math.atan2,B=Math.cos,Cn=Math.max,an=Math.min,C=Math.sin,O=Math.sqrt,j=1e-12,D=Math.PI,K=D/2,J=2*D;function Nn(n){return n>1?0:n<-1?D:Math.acos(n)}function cn(n){return n>=1?K:n<=-1?-K:Math.asin(n)}function kn(n){return n.innerRadius}function zn(n){return n.outerRadius}function Bn(n){return n.startAngle}function Ln(n){return n.endAngle}function Sn(n){return n&&n.padAngle}function Vn(n,a,i,s,c,h,d,t){var r=i-n,e=s-a,p=d-c,f=t-h,o=f*r-p*e;if(!(o*o<j))return o=(p*(a-h)-f*(n-c))/o,[n+o*r,a+o*e]}function H(n,a,i,s,c,h,d){var t=n-i,r=a-s,e=(d?h:-h)/O(t*t+r*r),p=e*r,f=-e*t,o=n+p,m=a+f,v=i+p,M=s+f,g=(o+v)/2,w=(m+M)/2,_=v-o,x=M-m,A=_*_+x*x,P=c-h,T=o*M-v*m,I=(x<0?-1:1)*O(Cn(0,P*P*A-T*T)),q=(T*x-_*I)/A,R=(-T*_-x*I)/A,l=(T*x+_*I)/A,b=(-T*_+x*I)/A,u=q-g,y=R-w,k=l-g,z=b-w;return u*u+y*y>k*k+z*z&&(q=l,R=b),{cx:q,cy:R,x01:-p,y01:-f,x11:q*(c/P-1),y11:R*(c/P-1)}}function hn(){var n=kn,a=zn,i=$(0),s=null,c=Bn,h=Ln,d=Sn,t=null;function r(){var e,p,f=+n.apply(this,arguments),o=+a.apply(this,arguments),m=c.apply(this,arguments)-K,v=h.apply(this,arguments)-K,M=ln(v-m),g=v>m;if(t||(t=e=gn()),o<f&&(p=o,o=f,f=p),!(o>j))t.moveTo(0,0);else if(M>J-j)t.moveTo(o*B(m),o*C(m)),t.arc(0,0,o,m,v,!g),f>j&&(t.moveTo(f*B(v),f*C(v)),t.arc(0,0,f,v,m,g));else{var w=m,_=v,x=m,A=v,P=M,T=M,I=d.apply(this,arguments)/2,q=I>j&&(s?+s.apply(this,arguments):O(f*f+o*o)),R=an(ln(o-f)/2,+i.apply(this,arguments)),l=R,b=R,u,y;if(q>j){var k=cn(q/f*C(I)),z=cn(q/o*C(I));(P-=k*2)>j?(k*=g?1:-1,x+=k,A-=k):(P=0,x=A=(m+v)/2),(T-=z*2)>j?(z*=g?1:-1,w+=z,_-=z):(T=0,w=_=(m+v)/2)}var S=o*B(w),V=o*C(w),Z=f*B(A),Q=f*C(A);if(R>j){var F=o*B(_),G=o*C(_),U=f*B(x),W=f*C(x),N;if(M<D&&(N=Vn(S,V,U,W,F,G,Z,Q))){var X=S-N[0],Y=V-N[1],nn=F-N[0],tn=G-N[1],un=1/C(Nn((X*nn+Y*tn)/(O(X*X+Y*Y)*O(nn*nn+tn*tn)))/2),fn=O(N[0]*N[0]+N[1]*N[1]);l=an(R,(f-fn)/(un-1)),b=an(R,(o-fn)/(un+1))}}T>j?b>j?(u=H(U,W,S,V,o,b,g),y=H(F,G,Z,Q,o,b,g),t.moveTo(u.cx+u.x01,u.cy+u.y01),b<R?t.arc(u.cx,u.cy,b,E(u.y01,u.x01),E(y.y01,y.x01),!g):(t.arc(u.cx,u.cy,b,E(u.y01,u.x01),E(u.y11,u.x11),!g),t.arc(0,0,o,E(u.cy+u.y11,u.cx+u.x11),E(y.cy+y.y11,y.cx+y.x11),!g),t.arc(y.cx,y.cy,b,E(y.y11,y.x11),E(y.y01,y.x01),!g))):(t.moveTo(S,V),t.arc(0,0,o,w,_,!g)):t.moveTo(S,V),!(f>j)||!(P>j)?t.lineTo(Z,Q):l>j?(u=H(Z,Q,F,G,f,-l,g),y=H(S,V,U,W,f,-l,g),t.lineTo(u.cx+u.x01,u.cy+u.y01),l<R?t.arc(u.cx,u.cy,l,E(u.y01,u.x01),E(y.y01,y.x01),!g):(t.arc(u.cx,u.cy,l,E(u.y01,u.x01),E(u.y11,u.x11),!g),t.arc(0,0,f,E(u.cy+u.y11,u.cx+u.x11),E(y.cy+y.y11,y.cx+y.x11),g),t.arc(y.cx,y.cy,l,E(y.y11,y.x11),E(y.y01,y.x01),!g))):t.arc(0,0,f,A,x,g)}if(t.closePath(),e)return t=null,e+""||null}return r.centroid=function(){var e=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2,p=(+c.apply(this,arguments)+ +h.apply(this,arguments))/2-D/2;return[B(p)*e,C(p)*e]},r.innerRadius=function(e){return arguments.length?(n=typeof e=="function"?e:$(+e),r):n},r.outerRadius=function(e){return arguments.length?(a=typeof e=="function"?e:$(+e),r):a},r.cornerRadius=function(e){return arguments.length?(i=typeof e=="function"?e:$(+e),r):i},r.padRadius=function(e){return arguments.length?(s=e==null?null:typeof e=="function"?e:$(+e),r):s},r.startAngle=function(e){return arguments.length?(c=typeof e=="function"?e:$(+e),r):c},r.endAngle=function(e){return arguments.length?(h=typeof e=="function"?e:$(+e),r):h},r.padAngle=function(e){return arguments.length?(d=typeof e=="function"?e:$(+e),r):d},r.context=function(e){return arguments.length?(t=e==null?null:e,r):t},r}function On(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Dn(n,a){return a<n?-1:a>n?1:a>=n?0:NaN}function Zn(n){return n}function Qn(){var n=Zn,a=Dn,i=null,s=$(0),c=$(J),h=$(0);function d(t){var r,e=(t=On(t)).length,p,f,o=0,m=new Array(e),v=new Array(e),M=+s.apply(this,arguments),g=Math.min(J,Math.max(-J,c.apply(this,arguments)-M)),w,_=Math.min(Math.abs(g)/e,h.apply(this,arguments)),x=_*(g<0?-1:1),A;for(r=0;r<e;++r)(A=v[m[r]=r]=+n(t[r],r,t))>0&&(o+=A);for(a!=null?m.sort(function(P,T){return a(v[P],v[T])}):i!=null&&m.sort(function(P,T){return i(t[P],t[T])}),r=0,f=o?(g-e*x)/o:0;r<e;++r,M=w)p=m[r],A=v[p],w=M+(A>0?A*f:0)+x,v[p]={data:t[p],index:r,value:A,startAngle:M,endAngle:w,padAngle:_};return v}return d.value=function(t){return arguments.length?(n=typeof t=="function"?t:$(+t),d):n},d.sortValues=function(t){return arguments.length?(a=t,i=null,d):a},d.sort=function(t){return arguments.length?(i=t,a=null,d):i},d.startAngle=function(t){return arguments.length?(s=typeof t=="function"?t:$(+t),d):s},d.endAngle=function(t){return arguments.length?(c=typeof t=="function"?t:$(+t),d):c},d.padAngle=function(t){return arguments.length?(h=typeof t=="function"?t:$(+t),d):h},d}var Fn=[{name:"<5",value:19912018},{name:"5-9",value:20501982},{name:"10-14",value:20679786},{name:"15-19",value:21354481},{name:"20-24",value:22604232},{name:"25-29",value:21698010},{name:"30-34",value:21183639},{name:"35-39",value:19855782},{name:"40-44",value:20796128},{name:"45-49",value:21370368},{name:"50-54",value:22525490},{name:"55-59",value:21001947},{name:"60-64",value:18415681},{name:"65-69",value:14547446},{name:"70-74",value:10587721},{name:"75-79",value:7730129},{name:"80-84",value:5811429},{name:"\u226585",value:5938752}];const Gn=pn("h2",null,"PIE",-1),Hn=pn("div",{id:"pie-chart-container"},null,-1),Jn=[Gn,Hn],Wn=Mn({__name:"pie",setup(n){function a(i,{name:s=([_])=>_,value:c=([,_])=>_,title:h,width:d=640,height:t=400,innerRadius:r=0,outerRadius:e=Math.min(d,t)/2,labelRadius:p=r*.2+e*.8,format:f=",",names:o,colors:m,stroke:v=r>0?"none":"white",strokeWidth:M=1,strokeLinejoin:g="round",padAngle:w=v==="none"?1/e:0}={}){const _=en(i,s),x=en(i,c),A=_n(_.length).filter(l=>!isNaN(x[l]));o===void 0&&(o=_),o=new xn(o),m===void 0&&(m=mn[o.size]),m===void 0&&(m=Pn(l=>qn(l*.8+.1),o.size));const P=An(o,m);if(h===void 0){const l=bn(f);h=b=>`${_[b]}
${l(x[b])}`}else{const l=en(i,u=>u),b=h;h=u=>b(l[u],u,i)}const T=Qn().padAngle(w).sort(null).value(l=>x[l])(A),I=hn().innerRadius(r).outerRadius(e),q=hn().innerRadius(p).outerRadius(p),R=En("svg").attr("width",d).attr("height",t).attr("viewBox",[-d/2,-t/2,d,t]).attr("style","max-width: 100%; height: auto; height: intrinsic;");return R.append("g").attr("stroke",v).attr("stroke-width",M).attr("stroke-linejoin",g).selectAll("path").data(T).join("path").attr("fill",l=>P(_[l.data])).attr("d",I).append("title").text(l=>h(l.data)),R.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("text").data(T).join("text").attr("transform",l=>`translate(${q.centroid(l)})`).selectAll("tspan").data(l=>{const b=`${h(l.data)}`.split(/\n/);return l.endAngle-l.startAngle>.25?b:b.slice(0,1)}).join("tspan").attr("x",0).attr("y",(l,b)=>`${b*1.1}em`).attr("font-weight",(l,b)=>b?null:"bold").text(l=>l),Object.assign(R.node(),{scales:{color:P}})}return wn(()=>{const i=a(Fn,{name:s=>s.name,value:s=>s.value,width:1e3,height:500});dn("#pie-chart-container").append(()=>i)}),(i,s)=>(Rn(),Tn("div",null,Jn))}});export{Wn as default};
